<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="fun.neverth.dao.WordCet4Dao" >

    <resultMap id="BaseResultMap" type="fun.neverth.bean.po.WordCet4" >
        <id column="id" property="id" />
        <result column="word" property="word" />
        <result column="phonetic" property="phonetic" />
        <result column="definition" property="definition" />
        <result column="translation" property="translation"  />
        <result column="pos" property="pos" />
        <result column="collins" property="collins" />
        <result column="oxford" property="oxford" />
        <result column="tag" property="tag" />
        <result column="bnc" property="bnc" />
        <result column="frq" property="frq" />
        <result column="exchange" property="exchange" />
        <result column="detail" property="detail" />
        <result column="audio" property="audio" />
    </resultMap>

    <sql id="tb">cet4_word</sql>
    <sql id="Base_Column_List">
        word,  phonetic, definition, translation, pos, tag, bnc, frq, exchange, detail, audio
    </sql>

    <select id="selectAllCet4Words" resultMap="BaseResultMap">
        select * from <include refid="tb"></include>
    </select>


    <select id="selectCet4WordById" resultMap="BaseResultMap">
        select * from <include refid="tb"></include>
        <where>
            and id = #{wordCet4.id}
        </where>
    </select>
    <update id="updateWordById"
            parameterType="fun.neverth.bean.po.WordCet4">
        update <include refid="tb"></include>
        <set>
            word = #{wordCet4.word} ,
            phonetic = #{wordCet4.phonetic} ,
            definition = #{wordCet4.definition} ,
            translation = #{wordCet4.translation} ,
            pos = #{wordCet4.pos} ,
            collins = #{wordCet4.collins} ,
            tag = #{wordCet4.tag} ,
            bnc = #{wordCet4.bnc} ,
            frq = #{wordCet4.frq} ,
        </set>
        <where>
            and id = #{wordCet4.id}
        </where>
    </update>

    <insert id="insertWord"
            parameterType="fun.neverth.bean.po.WordCet4"
            useGeneratedKeys="true" keyProperty="wordCet4.id">
        insert into <include refid="tb"/> ( <include refid="Base_Column_List"/> )
        values (
            #{wordCet4.word},
            #{wordCet4.phonetic},
            #{wordCet4.definition},
            #{wordCet4.translation},
            #{wordCet4.pos},
            #{wordCet4.tag},
            #{wordCet4.bnc},
            #{wordCet4.frq},
            #{wordCet4.exchange},
            #{wordCet4.detail},
            #{wordCet4.audio}
        )
    </insert>
    <select id="selectCet4WordByWord" resultMap="BaseResultMap">
        select * from <include refid="tb"></include>
        <where>
            and word like CONCAT('%',  #{wordCet4.word}, '%')
        </where>
    </select>

</mapper>